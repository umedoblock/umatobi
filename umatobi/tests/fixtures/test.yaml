# YAML structure
# Zero   line        => component key
# First  line        => relative path of schema from TESTS_PATH
# Second line        => table name
# Third  line to end => YAML components that correspond to table schema

foo:
- TEST_SCHEMA_PATH
- test_table
- id: '1'
  val_null:    'null'
  val_integer: 'integer'
  val_real:    'real'
  val_text:    'text'
  val_blob:    'blob'
  now:    'text'

bar:
- TEST_SCHEMA_PATH
- simulation
- title: 'in test_schema_parser()'
  start_up_iso8601: '2011-11-11T11:11:11.123456'
  open_office_iso8601: '2011-11-11T11:11:12.789012'
  close_office_iso8601: '2011-11-11T11:11:42.345678'
  end_up_iso8601: '2011-11-11T11:11:44.901234'
  simulation_seconds: '30'
  watson_office_addr: 'localhost:11111'
  total_nodes: '1000'
  n_clients: '4'
  memo: 'test to combine schema_parser and simulation.conf'
  log_level: 'INFO'
  version: '0.0.0'

quentin:
- ../../simulator/simulation.schema
- nodes
- id: '3'
  now_iso8601: '2011-12-22T11:11:44.901234'
  addr: '127.0.0.1:22222'
# key: '0x1111111111111111111111111111111111111111111111111111111111111111'
  key: 'ERERERERERERERERERERERERERERERERERERERERERE='
  status: 'active'

qwer:
- ../../simulator/simulation.schema
- nodes
- id: '4'
  now_iso8601: '2011-12-22T11:11:44.901234'
  addr: '127.0.0.1:22222'
# key: '0xcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'
# key: !!binary |
#   zMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMw=
# key: '0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'
# key: !!binary |
  key: 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo='
  status: 'inactive'

asdf:
- ../../simulator/simulation.schema
- nodes
- id: '5'
  now_iso8601: '2011-12-22T11:11:44.901234'
  addr: '127.0.0.1:22222'
  key: '0x8888888888888888888888888888888888888888888888888888888888888888'
  status: 'inactive'

test_set_nodes:
- ../../simulator/simulation.schema
- clients
- id: 0
  addr: localhost:10000
  consult_iso8601: '2011-12-22T11:11:44.901234'
  thanks_iso8601: '2011-12-22T11:12:20.901234'
  num_nodes: 10
  node_index: 0
  log_level: INFO
- id: 1
  addr: localhost:10001
  consult_iso8601: '2011-12-22T11:11:44.901234'
  thanks_iso8601: '2011-12-22T11:12:20.901234'
  num_nodes: 10
  node_index: 10
  log_level: INFO

test_multiple_inserts_0:
- ../fixtures/test.schema
- test_table
- id: 0
  val_null:     'null'
  val_integer:  '0'
  val_real:     '0.0'
  val_text:     'multiple inserts 0'
  val_blob:     'bXVsdGlwbGUgaW5zZXJ0cyAw'
  now:          '2002-11-02T23:22:00.000'
  elapsed_time: 100.000
  iso8601:      '2002-11-02T23:22:00.000000'

test_multiple_inserts_1:
- ../fixtures/test.schema
- test_table
- id: 1
  val_null:    'null'
  val_integer: '1'
  val_real:    '1.1'
  val_text:    'multiple inserts 1'
  val_blob:    'bXVsdGlwbGUgaW5zZXJ0cyAx'
  now:          '2112-11-12T23:22:11.111'
  elapsed_time: 111.111
  iso8601:      '2112-11-12T23:22:11.111111'

# :!echo -n 'multiple inserts 0' | python3 -m base64 -e -
# bXVsdGlwbGUgaW5zZXJ0cyAw
#
# :!echo -n 'multiple inserts 1' | python3 -m base64 -e -
# bXVsdGlwbGUgaW5zZXJ0cyAx
